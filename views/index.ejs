<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cheapest on Gilt</title>

<link rel="stylesheet" href="dist/css/style.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
<link href='http://fonts.googleapis.com/css?family=Roboto|Roboto+Condensed|Alegreya:700' rel='stylesheet' type='text/css'>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-animate.min.js"></script>
<script src="dist/js/app.min.js"></script>

</head>
<body ng-app="giltApp" ng-controller="mainController">

<div id = 'title'>Cheapest on Gilt</div>

<div id = 'options'>

<form>
<div class="fa fa-search"></div>
<input type="text" placeholder="Search Items" ng-model="searchItems">
</form>

<div>Store</div>
<input type="checkbox" ng-click="includeStore('women')"> Women </input>
<input type="checkbox" ng-click="includeStore('men')"> Men </input>
<input type="checkbox" ng-click="includeStore('kids')"> Baby & Kids </input>
<input type="checkbox" ng-click="includeStore('home')"> Home </input>
</div>

<div>{{storeIncludes}}</div>

<div>
<input type="range" min="10" max="50" step="10" ng-model="pageSize"/>
{{pageSize}}
</div>

<div>Sort</div>
<button href="#" ng-click="setSort($event, 'msrp_price')">MSRP
<span ng-show="sortType == 'msrp_price' && !sortReverse" class="fa fa-caret-down"></span>
<span ng-show="sortType == 'msrp_price' && sortReverse" class="fa fa-caret-up"></span>
</button>

<button href="#" ng-click="setSort($event, 'sale_price')">SALE
<span ng-show="sortType == 'sale_price' && !sortReverse" class="fa fa-caret-down"></span>
<span ng-show="sortType == 'sale_price' && sortReverse" class="fa fa-caret-up"></span>
</button>

<button ng-click="setSort($event, 'percent_discount')">%
<span ng-show="sortType == 'percent_discount' && !sortReverse" class="fa fa-caret-down"></span>
<span ng-show="sortType == 'percent_discount' && sortReverse" class="fa fa-caret-up"></span>
</button>

</div>

<div id='container'>

<div ng-repeat="item in data | orderBy:sortType:sortReverse | filter:storeFilter | filter:searchItems
| startFrom:currentPage*pageSize | limitTo:pageSize" class='item' style= "animation-delay: {{$index/10}}s;">

<a href = {{item.item_link}}>
<img src = {{item.item_picture_medium}} class = 'image'>
</a>
<div class = 'brand'>{{item.item_brand}}</div>
<div class = 'title'>{{item.item_name}}</div>
<!-- <div>Freshness: {{(item.days_old)}}</div> -->

<div class = 'pricing'>
    <span style="text-decoration: line-through;">{{item.msrp_price | currency : symbol : 0}}</span>,
    <b>{{item.sale_price | currency : symbol : 0}}</b>,
    <span style="color: orange;">-{{item.percent_discount | number : 0}}%</span>
</div>
</div>
</div>

<button ng-disabled="currentPage == 0" ng-click="currentPage=currentPage-1">
    Previous
</button>
{{currentPage+1}}/{{numberOfPages()}}
<button ng-disabled="currentPage >= data.length/pageSize - 1" ng-click="currentPage=currentPage+1">
    Next
</button>

</body>
</html>
